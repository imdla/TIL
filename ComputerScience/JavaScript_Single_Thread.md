> 💡**한 줄 요약**
>
> 자바스크립트는 한 번에 하나의 작업만 처리할 수 있는 단일 콜 스택을 가진 싱글 스레드 언어임에도 불구하고 브라우저나 Node.js 환경이 제공하는 비동기 처리 메커니즘으로 여러 작업을 동시에 수행할 수 있다.
>
> 1. 비동기 작업 발생 시, 자바스크립트 엔진은 작업들을 브라우저의 **Web API에 넘기고** 다른 코드를 실행한다.
> 2. Web API에서 비동기 작업 완료되면, 작업은 **태스크 큐에 들어가 대기**한다.
> 3. **이벤트 루프**가 콜 스택이 비어있는지 확인해, 태스크 큐에서 대기 중인 작업을 **콜 스택으로 가져와 실행**한다.
>
> 이 메커니즘으로 UI 인터랙션이 끊기지 않고, 대기 시간이 필요한 작업도 동시에 실행되는 것과 같이 동작한다.
>
> 더불어, 태스크 큐는 비동기 작업의 우선순위를 관리하고 이벤트 루프가 적절한 시점에 콜백 실행하기 위해 사용되는데 종류는 매크로태스크 큐와 마이크로태스크 큐가 있다.
>
> 매크로태스크 큐는 일반적인 비동기 작업의 콜백이 저장되는 큐로, 이벤트 루프의 한 번의 반복마다 하나의 태스크만 처리된다.
>
> 마이크로태스크 큐는 더 높은 우선순위가 필요한 비동기 작업들이 대기하는 큐로, 이벤트 루프는 매크로태스크 실행 전에 항상 마이크로태스크를 먼저 확인 후 모든 마이크로태스크를 처리한 후 매크로태스크 로 넘어간다.

### 1. 🤔 왜 사용하는가

- 자바스크립트는 **싱글 스레드 언어**
  - 한 번에 하나의 작업만 처리할 수 있는 단일 콜 스택 가짐
  - **브라우저나 Node.js 환경이 제공하는 비동기 처리 메커니즘**으로 여러 작업 동시 수행 가능
  - 활용
    - 브라우저의 Web API
    - Node의 libuv
    - 이벤트 루프
    - 테스크 큐

### 2. 💡 무엇인지 아는가(특징)

> **비동기 작업 과정**

1. 비동기 작업 발생 시, 해당 작업(타이머, 네트워크 요청 등)은 브라우저의 **Web API에 위임됨**
   - `setTimeout` 이나 `fetch` 와 같은 작업 수행될 때
   - 자바스크립트 엔진은 이 작업들을 Web API에 넘기고 다른 코드 실행
   - Web API에서 비동기 작업 완료될 때
2. 그 작업은 **태스크 큐에 들어가 대기**
3. **이벤트 루프**가 콜 스택 비어있는지 확인
4. 태스크 큐에서 대기 중인 **작업을 콜 스택으로 가져와 실행**

- **태스크 큐**
  - 비동기 작업의 우선 순위 관리
  - 이벤트 루프가 적절한 시점에 콜백 실행 위해 사용
- **태스크 큐 종류**
  1. **매크로태스크 큐**
     - 일반적인 비동기 작업의 콜백이 저장되는 큐
       - `setTimeout` , `setInterval` , I/O 작업, 이벤트 핸들러 등 작업 완료 후 매크로태스크 큐에 콜백 대시시킴
     - 이벤트 루트의 한 번의 반복마다 하나의 태스크만 처리됨
       - UI 업데이트나 다른 작업과 균형 있게 진행됨
  2. **마이크로태스크 큐**
     - 더 높은 우선순위가 필요한 비동기 작업들이 대기하는 큐
       - `Promise.then` . `MutationObserver` 등의 비동기 콜백이 저장됨
     - 이벤트 루프는 매크로태스크 실행하기 전 항상 마이크로태스크 큐를 먼저 확인 후, 모든 마이크로태스크를 처리한 후 매크로태스크로 넘어감
       - 마이크로태스크 큐의 작업은 높은 우선순위로 처리됨

### 3. ✅ 장점

- 자바스크립트는 싱글 스레드임에도 비동기적으로 작업 처리 가능
  - 다양한 작업을 효율적 관리 가능
- UI 인터랙션이 끊기지 않음
- 대기 시간이 필요한 작업도 동시 실행하는 것과 같이 동작함
