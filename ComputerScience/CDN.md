> 💡 **한 줄 요약**
>
> CDN은 전 세계에 분산되어 있는 서버들을 통해 사용자에게 웹 컨텐츠를 빠르고 효율적으로 제공하는 기술이다.

### 1. 🤔 왜 사용하는가

- **콘텐츠 전송 네트워크 (Content Delivery Network, CDN)**
  - 전 세계에 분산되어 있는 서버들을 통해 사용자에게 웹 컨텐츠를 빠르고 효율적으로 제공하는 기술
  - 웹사이트의 이미지, CSS, JavaScript 파일, 동영상 등 정적 컨텐츠를 사용자와 물리적으로 가까운 서버에 전달하는 방식
  - 전 세계에 분산된 서버 네트워크
  - 사용자와 물리적으로 가까운 위치에서 정적 콘텐츠(혹은 동적 콘텐츠)를 제공해 서버 과부하를 방지 및 통신 지연 단축
  - 통신에 참여하는 호스트 간에 중간 서버를 두어 성능 향상
  - ex. CloudFront, CloudFlare 등

### 2. 💡 무엇인지 아는가(특징)

> **CDN 작동 방식**

1. 자주 요청되는 컨텐츠를 전 세계 여러 지역에 위치한 “엣지 서버(Edge Server)”라 불리는 서버들에 캐싱
2. 사용자가 웹사이트에 요청 보냄
3. DNS 통해 가장 가까운 엣지 서버로 트래픽이 라우팅되어 처리되도록 함

> **CDN에서 Push 방식과 Pull 방식의 차이점**

- **Push 방식**
  - 원본 서버가 콘텐츠를 미리 CDN 서버로 전달하는 방식
  - 장점 : 적절한 시기에 정확한 콘텐츠 제공 가능
  - 단점 : 지속적인 업데이트 필요해 관리 비용이 상대적으로 높음
- **Pull 방식**
  - CDN 서버가 원본 서버로 요청을 보내 콘텐츠를 가져오는 방식
  - 클라이언트가 요청을 보내는 경우, CDN에 원하는 콘텐츠가 없다면 원본 서버로부터 콘텐츠를 가져와 업데이트 하는 방식
  - 단점 : 초기 요청에서 원본 서버에서 콘텐츠를 가져오는 작업을 수행해 응답 속도가 저하될 수 있음

### 3. ✅ 장점

- 매번 원본 서버에 직접 전달하지 않아도 됨
  → 트래픽 분산 효과
- 물리적으로 가까운 위치에 컨텐츠 전송
  → 속도 빠름

### 4. 💪 적용하는 경우

1. **세계 여러 국가에서 서비스 방문하는 경우**
   - 방문자의 위치와 서버의 위치가 물리적으로 멀 경우
     - 지연 시간이 긺
   - CDN 적용해 가까운 곳에 엣지 서버가 있을 경우
     - 가까운 위치에 있는 해당 서버 통해 빠르게 응답 가능
     - 지연 시간이 짧음
2. **대량 트래픽이 발생하는 경우**
   - CDN 사용하면 엣지 서버들로 트래픽이 분산됨
     → 대량 트래픽이 발생해도 안정적 처리 가능
   - 하나의 서버에 장애 발생해도, 다른 엣지 서버 통해 처리 가능
     → 예기치 못한 장애에 대응 용이

### 5. 🤔 고려해야 할 점

1. **비용**
   - CDN은 주로 제 3 사업자(클라우드 서비스)에게 비용 지불하고 사용함
   - 비용 대비 효과를 고려해 비판적 도입 필요
   - 성능 향상이 필요한 콘텐츠만 캐싱하는 등 비용 절약 고민 필요
2. **만료시간**
   - 콘텐츠의 적절한 만료 시간에 대해 고려
   - 콘텐츠의 만료 시간이 길다면 → 신선도가 떨어짐
   - 콘텐츠의 만료 시간이 짧다면 → 원본 서버로 요청이 빈번해짐
3. **CDN 장애 대응**
   - CDN에서 콘텐츠를 응답할 수 없는 경우, 클라이언트에서 원본 서버로부터 직접 콘텐츠를 가져오도록 구성 가능
4. **콘텐츠 무효화 방식**
   - 오브젝트 버저닝 사용 가능
   - CDN 서비스에서 제공되는 API 사용 가능
