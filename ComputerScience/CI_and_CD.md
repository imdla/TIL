> 💡 **한 줄 요약**
>
> CI는 지속적 통합으로, 빌드와 테스트를 자동화하는 과정이다. CD는 지속적 제공과 지속적 배포로, 배포 준비가 된 코드를 자동으로 서버에 배포하는 작업을 자동화한다.

![image.png](/ComputerScience/assets/ci_cd_1.png)

### 1. 🤔 왜 사용하는가

- **CI/CD**

  - 애플리케이션 배포 과정을 자동화해 더 짧은 주기로 고객에게 서비스를 제공하는 방식
  - **CI (Continuous Integration) : 지속적 통합**
  - **CD (Continuous Delivery) : 지속적 전달
    CD (Continuous Deployment) : 지속적 배포**

- **CI (Continuous Integration, 지속적 통합)**

  - 코드의 변경 사항을 공유 저장소에 정기적으로 병합하는 방식
  - 병합과 함께 자동으로 애플리케이션 빌드와 테스트까지 이루어짐
  - 코드 변경 사항 자동으로 통합, 테스트하는 과정 포함
  - 개발자들이 코드 변경사항을 주기적으로 메인 브랜치에 병합하는 과정을 자동화한 것
  - 코드 변경사항이 발생할 때마다 자동으로 빌드와 테스트를 수행해 문제를 조기에 발견할 수 있음
  - 과정
    - 개발자가 작성한 작은 코드 변경을 코드 베이스에 통합
    - 변경한 부분이 통합되면, 자동으로 새로운 시스템을 빌드
    - 현재 시스템에 존재하는 모든 테스트 실행
    - 이전 동작 부분이 망가졌을 경우, 해당 부분 다시 수정
  - 목표
    - 소프트웨어 품질 개선
    - 새로운 소프트웨어 변경 사항 검증 소요 시간 단축
    - 버그 조기 발견

- **CD**

  - CI 이후 단계를 자동화하는 것
  - 애플리케이션의 변경사항을 production 환경으로 배포하는 과정을 자동화한 것
  - 빌드 아티팩트를 관리 및 저장하는 공간이 필요할 수 있음
    - ex. AWS S3, Docker Registry, Nexus 사용 가능
  - **Continuous Delivery (지속적 제공)**
    - 배포 가능한 상태로 준비하는 과정까지는 자동화하고 실제 배포는 사람의 승인을 거쳐 수동으로 진행
    - 자동화 배포 파이프라인 통해 테스트 통과한 코드를 언제든 배포할 준비하는 프로세스
    - 최종 배포는 사람의 승인 통해 이루어짐
    - 항상 코드 배포 가능한 상태 유지
      - 배포 과정에서 예기치 않은 문제 발생할 가능성 줄어듦
    - 개발팀과 운영팀 간 협업 원활하게 만들어줌
    - 빌드 아티팩트를 프로덕션 환경에 바로 배포하기 위해 수동으로 작업해야 함
  - **Continuous Deployment (지속적 배포)**
    - production 환경에 배포하는 과정까지 모두 자동화
    - 자동화 배포 파이프라인 통해 테스트 통과한 코드를 자동으로 배포하는 프로세스
    - 승인없이 프로세스의해 자동으로 배포 이루어짐
    - 지속적 통합을 통해 빌드된 코드(빌드 아티팩트)를 프로덕션 환경에 자동으로 배포하는 것

- GitHub, Actions, Jenkins, GitLab CI 등의 도구를 사용해 CI/CD 파이프라인을 구축

  - CI/CD 프로세스 예시
    1. 개발자가 PR 올리면 자동으로 테스트/빌드 실행
    2. 테스트/빌드 성공한 경우 메인 브랜치로 머지 활성화
    3. 메인 브랜치 머지 시 production 환경으로 자동 배포

- **GitHub Actions**
  - CI / CD 도구
  - GitHub 원격 저장소의 특정 이벤트 발생 시, 워크플로우 실행
  - secrets 기능을 활용해 환경 변수 관리 가능
  - 다른 개발자가 만든 action 활용 가능
    - ssh-actions
    - scp-actions
    - checkout-actions

### 2. 💡 무엇인지 아는가(특징)

- **CI / CD 파이프라인 구성요소**

  - **소스 코드 관리(SCM, Source Code Management)**
    - GitHub 등을 사용해 코드 버전을 관리 및 코드 업데이트
  - **테스트 (Test)**
    - 단위 테스트 및 통합 테스트 수행
  - **빌드 (Build)**
    - 코드 컴파일, 의존성 설치, 번들링 수행
  - **배포 (Deploy)**
    - 코드를 개발 또는 운영 서버 환경에 배포

- **CICD 구현 방법**
  1. **CI 구현** 위해 코드 변경 사항 자동으로 통합 및 테스트하는 시스템 구축
     - 대표적 도구 : Jenkins, GitHub Actions, GitLab CI/CD
  2. **CD 구현** 위해 코드 변경 사항 자동으로 배포하는 시스템 구축
     - 대표적 도구 : AWS CodePipeline, Azure DevOps, Google Build
  3. **CICD 구현** 시 테스트 자동화 필수
     - 코드 품질 휴지 및 배포 과정의 오류 줄이는데 기여
  4. **CICD 구현** 시 코드 변경 사항 자주 통합 및 배포 중요
     - 개발 속도 높임, 제품의 안정성 보장에 기여
  5. **CICD 구현** 시 보안과 안정성 고려
     - 제품 품질 보장 및 시장 출시 시간 단축에 기여

### 3. ✅ 장점

- **CI (Continuous Integration)의 장점**

  1. 자동 테스트 통한 오류 빠르게 발견
  2. 코드 병합 시 충돌 최소화
  3. 자동 테스트 통해 테스크 줄임
  4. 지속적으로 코드 품질 유지 및 개선 가능
  5. 일관된 개발 환경 제공

- **CICD의 장점**
  1. 코드 변경 사항 빠르게 통합 가능
  2. 자동화된 테스트 통해 코드 품질 유지
  3. 개발 속도 높임
  4. 제품 안정성 보장
  5. 배포 과정 자동화
     1. 배포 주기 단축
     2. 배포 과정에서 발생 가능한 오류 줄임
  6. 개발 효율성 높임

### 4. 🔄 개선 방법(최근 기술 동향)

> **CI/CD 구축 전 배포**

![image.png](/ComputerScience/assets/cd_cd_2.png)

1. 도커 이미지 빌드 & 도커 허브 PUSH - 로컬
2. `docker-compose.yml`, `.env` 파일 복사 - 로컬
3. 이미지 PULL & 컨테이너 UP - 원격 서버

> **CI/CD 구축 후 배포**

![image.png](/ComputerScience/assets/ci_cd_3.png)

1. PUSH
