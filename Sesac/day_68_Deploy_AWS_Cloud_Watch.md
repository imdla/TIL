## <mark color="#fbc956">Cloud Watch</mark>

### 1. 성능 모니터링 서비스

- AWS 서비스 실시간 성능 모니터링 및 로그 관리 서비스
- 지표(Matrix) 기능을 활용해 서비스(EC2, S3 등)의 지표를 자동으로 제공
- 경보(Alram)와 SNS 기능을 활용해 임계 값을 넘으면 알림 받을 수 있음
- 로그(Logs) 기능을 활용해 서비스의 로그 파일 수집

### 2. Cloud Watch Alram

- 특정 지표에 대해 임계값을 설정, 해당 임계값 넘으면 SNS 서비스 활용해 알림 보낼 수 있음

- 경보 생성

  - AWS → Cloud Watch → 경보 → 경보 상태 → 경보 생성

  1. 지표 선택 및 검색
     - 현재 실행 중인 EC2 인스턴스의 `CPUUtilization` 선택
     - `지표 선택` 클릭
  2. 조건 설정
     - 임계값 유형 - 정적
     - CPUUtilization이 다음과 같은 경우에 항상 … - 보다 큼
     - …보다 - 80
  3. 알림 구성
     - 새 주제 생성
     - 새 주제 생성 … - 임의의 주제 이름
     - 알림을 수신할 이메일 엔드포인드 … - 알림 받을 이메일
  4. 경보 이름 및 경보 설명 작성
  5. 경보 생성

- SNS 이메일 구족

  - 알림 수신 이메일 메일함

- 경보 테스트

  - EC2 인스턴스 SSH 연결

  1. 성능 부하를 위한 패키지 설치

     ```bash
     sudo apt update
     sudo apt install -y stress
     ```

  2. 성능 부하 명령어 실행

     ```bash
     # 600초간 CPU 1개를 100% 사용
     stress --cpu -1 --timeout 600
     ```
