## <mark color="#fbc956">INDEX</mark>

### 1. 인덱스

- 데이터베이스 테이블의 검색 속도 향상 위한 자료구조
- 특정 열(컬럼)에 대해 정렬된 상태 유지 (B Tree, B+tree)
- 검색 속도 빨라지지만, 데이터 입력/수정/삭제는 조금 더 느려질 수 있음
- 추가 저장 공간 필요

1. **인덱스 추가**

   ```sql
   CREATE INDEX 인덱스명
   ON 테이블명 (컬럼명);
   ```

2. **인덱스 삭제**

   ```sql
   DROP INDEX 인덱스명 ON 테이블명;
   ```

### 2. 고유 인덱스

- 이메일 주소, username 등 테이블의 열에 중복된 값을 허용하지 않는 인덱스
- `UNIQUE` 제약조건 생성 시 자동으로 고유 인덱스 생성
  - `UNIQUE` 제약조건은 중복값 체크 필요 → 이를 효율적으로 하기 위해 인덱스 필요
- NULL 값은 허용, 여러 행에 NULL 값 가능

### 3. 인덱스 활용

1. **인덱스가 효율적인 경우**
   - WHERE 절에서 자주 사용되는 컬럼
   - 외래 키로 사용되는 컬럼
   - ORDER BY, GROUP BY 절에서 사용되는 컬럼
   - **카디널리티(Cardinality)**가 높은 컬럼
     - 특정 컬럼이 가지는 고유는 값의 수
     - 카디널리티 비율 계산
       - 1에 가까울수록 고유한 값이 많음 (높은 카디널리티)
       - 0에 가까울수록 중복된 값이 많음 (낮은 카디널리티)
       ```sql
       SELECT COUNT(DISTINCT 컬럼명) / COUNT(*) AS 카디널리티 비율
       FROM 테이블명
       ```
2. **인덱스가 비효율적인 경우**
   - 데이터가 적은 테이블
   - 갱신이 빈번한 테이블
   - 카디널리티가 낮은 컬럼
   - OR 조건이 많은 쿼리
